(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{1120:(e,s,t)=>{"use strict";t.d(s,{T:()=>r});var a=t(5155);t(2115);var i=t(4269);function r(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}},1186:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>m,gC:()=>x,l6:()=>c,yv:()=>o});var a=t(5155);t(2115);var i=t(5842),r=t(4033),n=t(5917),l=t(2108),d=t(4269);function c(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...s})}function u(e){let{className:s,size:t="default",children:n,...l}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l,children:[n,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:s,children:t,position:r="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(g,{})]})})}function m(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},1647:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(5155);t(2115);var i=t(3101),r=t(4269);let n=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...i}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({variant:t}),s),...i})}},2873:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(5155),i=t(2115),r=t(63),n=t(4211),l=t(2890),d=t(3998),c=t(6948),o=t(4846),u=t(6444),x=t(1120),m=t(5142),h=t(1186),g=t(4739),p=t(6046),f=t(8720);function v(e){let{className:s}=e,{saving:t,contextConfig:r,updateContextConfig:l,setSaving:v}=(0,n.iS)(),[b,j]=(0,i.useState)({business_context:r.business_context||"",specialized_instructions:r.specialized_instructions||""});(0,i.useEffect)(()=>{j({business_context:r.business_context||"",specialized_instructions:r.specialized_instructions||""})},[r]);let y=i.useMemo(()=>{var e;let s;return e=(e,s)=>{l({[e]:s})},function(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];clearTimeout(s),s=setTimeout(()=>e(...a),300)}},[l]),N=(0,i.useCallback)((e,s)=>{j(t=>({...t,[e]:s})),y(e,s)},[y]),w=(0,i.useCallback)(e=>{l(e)},[l]),k=async function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{v(!0);let t={...r,...e},a=(e=>{let s=[];return e.org_id&&""!==e.org_id.trim()||s.push("Organization ID could not be determined. Please try refreshing the page."),(e.confidence_threshold<.3||e.confidence_threshold>.9)&&s.push("Confidence threshold must be between 30% and 90%"),(e.final_context_chunks<1||e.final_context_chunks>10)&&s.push("Context chunks must be between 1 and 10"),s})(t);if(a.length>0)throw Error("Validation failed: ".concat(a.join(", ")));console.debug("Saving context config with updates:",e);let i=await g.kQ.updateContextConfig(e);if(console.debug("Context config update response:",JSON.stringify(i,null,2)),i&&i.success)l(e),s&&(i.message.includes("locally")?f.oR.success("Context configuration saved locally!"):f.oR.success("Context configuration saved successfully!"));else throw Error((null==i?void 0:i.message)||"Save failed")}catch(e){if(console.debug("Error saving context config:",e),s){let s="Failed to save context configuration.";e instanceof Error&&(e.message.includes("404")||e.message.includes("not found")?s+=" Backend endpoint not available.":e.message.includes("401")||e.message.includes("Authentication")?s+=" Please log in again.":e.message.includes("Network")||e.message.includes("fetch")?s+=" Check your connection.":s+=" Error: ".concat(e.message)),f.oR.error(s)}}finally{v(!1)}};return(0,a.jsxs)(c.Zp,{className:s,children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDD27"}),"Advanced AI Configuration"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Fine-tune how your AI processes and retrieves information to improve response quality and accuracy."})]}),(0,a.jsxs)(c.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-blue-900 mb-4",children:"Model & Performance Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"model-tier",children:"AI Model Tier"}),(0,a.jsxs)(h.l6,{value:r.model_tier,onValueChange:e=>w({model_tier:e}),children:[(0,a.jsx)(h.bq,{className:"mt-2",children:(0,a.jsx)(h.yv,{})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"fast",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"⚡"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Fast"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Quick responses, basic quality"})]})]})}),(0,a.jsx)(h.eb,{value:"balanced",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"⚖️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Balanced"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Good speed and quality balance"})]})]})}),(0,a.jsx)(h.eb,{value:"premium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDC8E"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Premium"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"High quality, slower responses"})]})]})}),(0,a.jsx)(h.eb,{value:"enterprise",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDFE2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Enterprise"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Maximum quality and features"})]})]})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Maximum Response Time"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"3s"}),(0,a.jsxs)("span",{children:[(r.max_response_time_ms/1e3).toFixed(1),"s"]}),(0,a.jsx)("span",{children:"30s"})]}),(0,a.jsx)("input",{type:"range",min:"3000",max:"30000",step:"1000",value:r.max_response_time_ms,onChange:e=>w({max_response_time_ms:parseInt(e.target.value)}),className:"w-full"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border border-green-200",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-green-900 mb-4",children:"Information Retrieval Strategy"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"retrieval-strategy",children:"Retrieval Method"}),(0,a.jsxs)(h.l6,{value:r.retrieval_strategy,onValueChange:e=>w({retrieval_strategy:e}),children:[(0,a.jsx)(h.bq,{className:"mt-2",children:(0,a.jsx)(h.yv,{})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"semantic_only",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Semantic Only"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"AI-powered meaning-based search"})]})}),(0,a.jsx)(h.eb,{value:"hybrid",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Hybrid"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Combines semantic + keyword search"})]})}),(0,a.jsx)(h.eb,{value:"keyword_only",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Keyword Only"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Traditional keyword matching"})]})}),(0,a.jsx)(h.eb,{value:"domain_specific",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Domain Specific"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Specialized for specific industries"})]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Initial Retrieval Count"}),(0,a.jsx)(m.p,{type:"number",min:"10",max:"100",value:r.initial_retrieval_count,onChange:e=>w({initial_retrieval_count:parseInt(e.target.value)||20}),className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Documents to retrieve initially"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Semantic Rerank Count"}),(0,a.jsx)(m.p,{type:"number",min:"5",max:"50",value:r.semantic_rerank_count,onChange:e=>w({semantic_rerank_count:parseInt(e.target.value)||10}),className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Documents for AI reranking"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Final Context Chunks"}),(0,a.jsx)(m.p,{type:"number",min:"1",max:"10",value:r.final_context_chunks,onChange:e=>w({final_context_chunks:parseInt(e.target.value)||5}),className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Final pieces used for response"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 rounded-lg border border-purple-200",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-purple-900 mb-4",children:"Quality Control & Safety"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Hallucination Detection"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Prevent AI from making up information"})]}),(0,a.jsx)(o.d,{checked:r.enable_hallucination_check,onCheckedChange:e=>w({enable_hallucination_check:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Source Verification"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Verify information against knowledge base"})]}),(0,a.jsx)(o.d,{checked:r.enable_source_verification,onCheckedChange:e=>w({enable_source_verification:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Query Rewriting"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Improve search queries automatically"})]}),(0,a.jsx)(o.d,{checked:r.enable_query_rewriting,onCheckedChange:e=>w({enable_query_rewriting:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Semantic Re-ranking"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"AI-powered result relevance improvement"})]}),(0,a.jsx)(o.d,{checked:r.enable_semantic_rerank,onCheckedChange:e=>w({enable_semantic_rerank:e})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{children:"Confidence Threshold"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Permissive (30%)"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(100*r.confidence_threshold),"%"]}),(0,a.jsx)("span",{children:"Conservative (90%)"})]}),(0,a.jsx)("input",{type:"range",min:"0.3",max:"0.9",step:"0.05",value:r.confidence_threshold,onChange:e=>w({confidence_threshold:parseFloat(e.target.value)}),className:"w-full"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Higher values make the AI more conservative about providing answers"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-6 rounded-lg border border-orange-200",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-orange-900 mb-4",children:"Business Context & Instructions"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"business-context",children:"Business Context"}),(0,a.jsx)(x.T,{id:"business-context",value:b.business_context,onChange:e=>N("business_context",e.target.value),className:"mt-2",rows:3,placeholder:"Describe your business, industry, and key context the AI should understand..."}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Help the AI understand your business domain and context"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.J,{htmlFor:"specialized-instructions",children:"Specialized Instructions"}),(0,a.jsx)(x.T,{id:"specialized-instructions",value:b.specialized_instructions,onChange:e=>N("specialized_instructions",e.target.value),className:"mt-2",rows:3,placeholder:"Any specific instructions for how the AI should behave or respond..."}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Specific behavioral guidelines and response patterns"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Current Configuration Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Model Tier:"}),(0,a.jsx)("div",{className:"font-medium capitalize",children:r.model_tier})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Strategy:"}),(0,a.jsx)("div",{className:"font-medium",children:r.retrieval_strategy.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Context Chunks:"}),(0,a.jsx)("div",{className:"font-medium",children:r.final_context_chunks})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Confidence:"}),(0,a.jsxs)("div",{className:"font-medium",children:[Math.round(100*r.confidence_threshold),"%"]})]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsxs)(d.$,{onClick:()=>k(r,!0),disabled:t,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),t?"Saving Configuration...":"Save Context Configuration"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Save your advanced AI configuration settings to the backend"})]})]})]})}var b=t(1647),j=t(8332),y=t(3738),N=t(9559),w=t(2056),k=t(3007),_=t(5870);function C(){let e=(0,r.useRouter)(),{userId:s}=(0,r.useParams)(),[t,o]=(0,i.useState)(!0),[u,x]=(0,i.useState)(0),{connectionStatus:m,error:h,contextConfig:g,setCurrentUser:p,setError:C,initializeStore:z,testConnection:A,loadContextConfig:I}=(0,n.iS)(),S=(0,i.useCallback)(async()=>{try{let e=await A();!e&&u<3?(x(e=>e+1),setTimeout(()=>{S()},2e3*Math.pow(2,u))):e&&(x(0),C(null))}catch(e){console.error("Connection check failed:",e)}},[A,u,C]),M=(0,i.useCallback)(async()=>{try{o(!0);let{data:{session:t}}=await l.N.auth.getSession();if(!(null==t?void 0:t.user)){f.oR.error("Authentication required"),e.replace("/auth/login");return}if(t.user.id!==s){f.oR.error("Unauthorized access"),e.replace("/dashboard/".concat(t.user.id,"/ai"));return}p(t.user);try{await z(),await I()}catch(e){console.warn("Store initialization failed, continuing with limited functionality:",e),C("Some features may be limited. Please check your connection.")}}catch(e){console.error("Error initializing AI configuration page:",e),C("Failed to initialize the AI configuration. Please refresh the page.")}finally{o(!1)}},[z,p,e,s,C,I]);(0,i.useEffect)(()=>{M()},[M]),(0,i.useEffect)(()=>{if("disconnected"===m){let e=setInterval(S,3e4);return()=>clearInterval(e)}},[m,S]);let E=async()=>{x(0),await S(),"disconnected"===m&&await M()};return t?(0,a.jsx)("div",{className:"mx-auto ml-[4.5vw] bg-white rounded-3xl p-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading AI Configuration..."})]})})}):(0,a.jsxs)("div",{className:"mx-auto ml-[4.5vw] bg-white rounded-3xl p-8",children:["disconnected"===m&&(0,a.jsxs)(j.Fc,{className:"mb-6 border-red-200 bg-red-50",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)(j.TN,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Connection to AI services lost. Some features may be unavailable."}),(0,a.jsxs)(d.$,{onClick:E,variant:"outline",size:"sm",className:"ml-4",children:[(0,a.jsx)(N.A,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]}),h&&(0,a.jsxs)(j.Fc,{className:"mb-6 border-orange-200 bg-orange-50",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)(j.TN,{children:h})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(k.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Configuration Center"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure advanced AI behavior, model settings, and retrieval strategies"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(b.E,{variant:"connected"===m?"default":"destructive",className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("connected"===m?"bg-green-400":"bg-red-400")}),"connected"===m?"Connected":"Disconnected"]})})]})}),g&&(0,a.jsxs)(c.Zp,{className:"mb-6",children:[(0,a.jsx)(c.aR,{children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"w-5 h-5"}),"Current Configuration Overview"]})}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Model Tier:"}),(0,a.jsx)("p",{className:"capitalize",children:g.model_tier||"balanced"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Retrieval Strategy:"}),(0,a.jsx)("p",{className:"capitalize",children:g.retrieval_strategy||"hybrid"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Confidence Threshold:"}),(0,a.jsxs)("p",{children:[Math.round(100*(g.confidence_threshold||.7)),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Context Chunks:"}),(0,a.jsx)("p",{children:g.final_context_chunks||5})]})]})})]}),(0,a.jsx)(v,{})]})}},3007:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]])},4846:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(5155),i=t(2115),r=t(7599),n=t(4269);let l=i.forwardRef((e,s)=>{let{className:t,thumbClassName:i,...l}=e;return(0,a.jsx)(r.bL,{className:(0,n.cn)("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:s,children:(0,a.jsx)(r.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",i)})})});l.displayName=r.bL.displayName},5142:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155);t(2115);var i=t(4269);function r(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},6046:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6444:(e,s,t)=>{"use strict";t.d(s,{J:()=>n});var a=t(5155);t(2115);var i=t(489),r=t(4269);function n(e){let{className:s,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},7599:(e,s,t)=>{"use strict";t.d(s,{bL:()=>N,zi:()=>w});var a=t(2115),i=t(2556),r=t(4446),n=t(3468),l=t(3558),d=t(8108),c=t(4288),o=t(8142),u=t(5155),x="Switch",[m,h]=(0,n.A)(x),[g,p]=m(x),f=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:n,checked:d,defaultChecked:c,required:m,disabled:h,value:p="on",onCheckedChange:f,form:v,...b}=e,[N,w]=a.useState(null),k=(0,r.s)(s,e=>w(e)),_=a.useRef(!1),C=!N||v||!!N.closest("form"),[z,A]=(0,l.i)({prop:d,defaultProp:null!=c&&c,onChange:f,caller:x});return(0,u.jsxs)(g,{scope:t,checked:z,disabled:h,children:[(0,u.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":z,"aria-required":m,"data-state":y(z),"data-disabled":h?"":void 0,disabled:h,value:p,...b,ref:k,onClick:(0,i.m)(e.onClick,e=>{A(e=>!e),C&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),C&&(0,u.jsx)(j,{control:N,bubbles:!_.current,name:n,value:p,checked:z,required:m,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});f.displayName=x;var v="SwitchThumb",b=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,i=p(v,t);return(0,u.jsx)(o.sG.span,{"data-state":y(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});b.displayName=v;var j=a.forwardRef((e,s)=>{let{__scopeSwitch:t,control:i,checked:n,bubbles:l=!0,...o}=e,x=a.useRef(null),m=(0,r.s)(x,s),h=(0,d.Z)(n),g=(0,c.X)(i);return a.useEffect(()=>{let e=x.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==n&&s){let t=new Event("click",{bubbles:l});s.call(e,n),e.dispatchEvent(t)}},[h,n,l]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var N=f,w=b},8556:(e,s,t)=>{Promise.resolve().then(t.bind(t,2873))}},e=>{e.O(0,[508,720,264,184,741,927,441,493,358],()=>e(e.s=8556)),_N_E=e.O()}]);