(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{489:(e,t,a)=>{"use strict";a.d(t,{b:()=>l});var s=a(2115),r=a(8142),n=a(5155),i=s.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:a,strokeWidth:o?24*Number(l)/Number(r):l,className:n("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{className:o,...c}=a;return(0,s.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return a.displayName=r(e),a}},1965:(e,t,a)=>{Promise.resolve().then(a.bind(a,6650))},5142:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(5155);a(2115);var r=a(4269);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6444:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(5155);a(2115);var r=a(489),n=a(4269);function i(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},6650:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(5155),r=a(8594),n=a(2115),i=a(4739),l=a(3998),o=a(5142),c=a(6444),d=a(6948),u=a(8720),h=a(1847);let m=(0,h.A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),p=(0,h.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),x=(0,h.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var g=a(9559),f=a(6132);let y=(0,h.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),b=(0,a(8090).UU)("https://raoonyyrzzftdenvknfi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhb29ueXlyenpmdGRlbnZrbmZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDM1NzcsImV4cCI6MjA2NTgxOTU3N30.3t9rTN6x533lihs8ebUVHu9kuayFl_m2b6liifW1B88");function v(){let[e,t]=(0,n.useState)({name:"",email:"",contact_phone:"",business_type:""}),[a,r]=(0,n.useState)(!1),[h,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[w,A]=(0,n.useState)(!0),[k,C]=(0,n.useState)(null),[_,z]=(0,n.useState)({auth:!1,chatbots:!1,vectors:!1});(0,n.useEffect)(()=>{E()},[]);let E=async()=>{try{A(!0);let e=await i.Iu.getOrganizationInfo();C(e),t({name:e.organization.name||"",email:e.organization.email||e.user.email||"",contact_phone:e.organization.contact_phone||"",business_type:e.organization.business_type||""})}catch(e){console.error("Failed to load organization info:",e),u.oR.error("Failed to load organization information")}finally{A(!1)}},S=async()=>{v(!0),N(null);try{let e=await I();if(!e)throw Error("No authentication token found. Please log in again.");console.log("Testing with token:",e.substring(0,20)+"...");let t=(await fetch("http://localhost:8001/api/auth/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok;console.log("Auth test result:",t);let a=!1,s=[];if(t)try{console.log("Testing chatbots endpoint..."),s=await i.Ex.getChatbots(),console.log("Chatbots response:",s),a=Array.isArray(s)&&s.length>0}catch(e){console.error("Chatbot test error:",e)}let r=!1;if(t)try{console.log("Testing vector search...");let e=await i.kQ.sendMessage("Test message to check if vectors are working");console.log("Vector test response:",e),r=!!e.response}catch(e){console.error("Vector test error:",e)}z({auth:t,chatbots:a,vectors:r,message:r?"All systems operational!":t?"Authentication successful, but some services need attention.":"Authentication failed. Please check your login status."})}catch(e){N(e instanceof Error?e.message:"Error connecting to the backend. Please check the server is running."),console.error("Test connections error:",e)}finally{v(!1)}},I=async()=>{var e;let{data:t}=await b.auth.getSession();return(null==(e=t.session)?void 0:e.access_token)||null},O=async t=>{t.preventDefault(),r(!0);try{let t=await i.Iu.updateOrganization(e);u.oR.success(t.message),console.log("Organization updated:",t),await E()}catch(e){console.error("Failed to update organization:",e),u.oR.error("Failed to update organization. Please try again.")}finally{r(!1)}};return w?(0,s.jsxs)("div",{className:"space-y-6 h-full w-full",children:[(0,s.jsx)("div",{className:"bg-color-gradient p-8 rounded-t-xl",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-white/20 rounded w-64 mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-white/20 rounded w-32"})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-48"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"}),(0,s.jsx)("div",{className:"h-10 bg-gray-200 rounded"})]})})]}):(0,s.jsxs)("div",{className:"space-y-6 h-full w-full",children:[(0,s.jsx)("header",{className:"w-full bg-color-gradient p-8 rounded-t-xl",children:k?(0,s.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-4 md:gap-8 items-start md:items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl text-white font-bold",children:k.organization.name||"No Organization"}),(0,s.jsxs)("p",{className:"text-white mt-1 flex items-center gap-2",children:[(0,s.jsx)(m,{className:"h-4 w-4"}),k.organization.business_type||"No business type set"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",role:"group","aria-label":"Primary actions",children:[(0,s.jsxs)(l.$,{variant:"outline",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),k.organization.email]}),(0,s.jsxs)(l.$,{variant:"outline",children:[(0,s.jsx)(x,{className:"h-4 w-4"}),k.organization.contact_phone]})]})]}):(0,s.jsxs)("div",{className:"text-white",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Organization Management"}),(0,s.jsx)("p",{className:"mt-1",children:"Unable to load organization information"})]})}),(0,s.jsxs)("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(d.Zp,{className:"border-0",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Update Organization"}),(0,s.jsx)(d.BT,{children:"Update your organization details including name, email, contact phone, and business type"})]}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"name",children:"Organization Name"}),(0,s.jsx)(o.p,{id:"name",type:"text",value:e.name,onChange:a=>t({...e,name:a.target.value}),placeholder:"Enter organization name",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"email",children:"Organization Email"}),(0,s.jsx)(o.p,{id:"email",type:"email",value:e.email,onChange:a=>t({...e,email:a.target.value}),placeholder:"Enter organization email address",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"contact_phone",children:"Contact Phone"}),(0,s.jsx)(o.p,{id:"contact_phone",type:"tel",value:e.contact_phone||"",onChange:a=>t({...e,contact_phone:a.target.value}),placeholder:"Enter contact phone number"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{htmlFor:"business_type",children:"Business Type"}),(0,s.jsx)(o.p,{id:"business_type",type:"text",value:e.business_type||"",onChange:a=>t({...e,business_type:a.target.value}),placeholder:"Enter business type (e.g., SaaS, E-commerce, etc.)"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.$,{type:"submit",disabled:a,children:a?"Updating...":"Update Organization"}),(0,s.jsxs)(l.$,{type:"button",variant:"outline",onClick:E,disabled:w,children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2 ".concat(w?"animate-spin":"")}),"Refresh"]})]})]})})]}),(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg border shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"RAG Pipeline Test"}),h?(0,s.jsx)("div",{className:"flex items-center justify-center p-6",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):j?(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[(0,s.jsx)(f.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-red-800 font-medium",children:"Connection Error"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:j})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[_.auth?(0,s.jsx)(y,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(f.A,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Authentication"}),(0,s.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded",children:"/api/auth/me"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[_.chatbots?(0,s.jsx)(y,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(f.A,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Chatbot Configuration"}),(0,s.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded",children:"/api/chat/chatbots"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[_.vectors?(0,s.jsx)(y,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(f.A,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Vector Search & RAG"}),(0,s.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded",children:"/api/chat/conversation"})]})]}),(0,s.jsx)("div",{className:"mt-6 p-3 rounded-md ".concat(_.auth&&_.chatbots&&_.vectors?"bg-green-50 text-green-800 border border-green-200":"bg-yellow-50 text-yellow-800 border border-yellow-200"),children:(0,s.jsx)("p",{className:"font-medium",children:_.message})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(l.$,{onClick:S,size:"sm",children:"Re-run Tests"})})]})]})]})]})}function j(){return(0,s.jsx)("div",{className:"min-h-[95vh] flex items-start ".concat(r.q.CONTAINER_CLASSES),children:(0,s.jsx)(v,{})})}},8142:(e,t,a)=>{"use strict";a.d(t,{sG:()=>o});var s=a(2115);a(7650);var r=a(4446),n=a(5155),i=Symbol("radix.slottable");function l(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{var a,n,i;let l,o,{children:c,...d}=e,u=s.isValidElement(c)?(o=(l=null==(n=Object.getOwnPropertyDescriptor((a=c).props,"ref"))?void 0:n.get)&&"isReactWarning"in l&&l.isReactWarning)?a.ref:(o=(l=null==(i=Object.getOwnPropertyDescriptor(a,"ref"))?void 0:i.get)&&"isReactWarning"in l&&l.isReactWarning)?a.props.ref:a.props.ref||a.ref:void 0,h=(0,r.s)(u,t);if(s.isValidElement(c)){let e=function(e,t){let a={...t};for(let s in t){let r=e[s],n=t[s];/^on[A-Z]/.test(s)?r&&n?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=n(...t);return r(...t),s}:r&&(a[s]=r):"style"===s?a[s]={...r,...n}:"className"===s&&(a[s]=[r,n].filter(Boolean).join(" "))}return{...e,...a}}(d,c.props);return c.type!==s.Fragment&&(e.ref=h),s.cloneElement(c,e)}return s.Children.count(c)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),a=s.forwardRef((e,a)=>{let{children:r,...i}=e,o=s.Children.toArray(r),c=o.find(l);if(c){let e=c.props.children,r=o.map(t=>t!==c?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...i,ref:a,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,n.jsx)(t,{...i,ref:a,children:r})});return a.displayName="".concat(e,".Slot"),a}(`Primitive.${t}`),i=s.forwardRef((e,s)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?a:t,{...i,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{})},8594:(e,t,a)=>{"use strict";a.d(t,{q:()=>s});let s={SKELETON_ITEMS_COUNT:4,STATS_GRID_CLASSES:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",QUICK_ACTIONS_GRID_CLASSES:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",CONTAINER_CLASSES:"mx-auto ml-[4.1vw] bg-white rounded-l-3xl space-y-6 shadow-lg"}},9559:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},e=>{e.O(0,[508,720,741,441,493,358],()=>e(e.s=1965)),_N_E=e.O()}]);