(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},293:(e,t,s)=>{"use strict";s.d(t,{T:()=>x});var a=s(5155);s(2115);var r=s(6948),l=s(991),i=s(1647),n=s(3998),c=s(2056),o=s(9559),d=s(6485),u=s(1524),h=s(1539),m=s(4269);let x=e=>{let{className:t,showRefreshButton:s=!0,compact:x=!1}=e,{subscription:g,isLoading:p,error:f,refreshSubscription:v}=(0,h.Rs)();if(p)return(0,a.jsx)(r.Zp,{className:(0,m.cn)("w-full",t),children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})});if(f)return(0,a.jsx)(r.Zp,{className:(0,m.cn)("w-full",t),children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,a.jsx)(c.A,{size:16}),(0,a.jsx)("span",{className:"text-sm",children:f}),s&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:v,className:"ml-auto",children:(0,a.jsx)(o.A,{size:14})})]})})});if(!g)return(0,a.jsx)(r.Zp,{className:(0,m.cn)("w-full",t),children:(0,a.jsx)(r.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{className:"text-sm",children:"No subscription found"})})})});let y=g.usage_percentage,b=y>=80,j=y>=95,N=()=>j?(0,a.jsx)(i.E,{variant:"destructive",className:"text-xs",children:"Critical"}):b?(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:"Warning"}):(0,a.jsx)(i.E,{variant:"outline",className:"text-xs",children:"Healthy"}),w=e=>new Intl.NumberFormat().format(e);return x?(0,a.jsxs)("div",{className:(0,m.cn)("flex items-center space-x-3",t),children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Token Usage"}),N()]}),(0,a.jsx)(l.k,{value:y,className:"h-2",style:{backgroundColor:"#f3f4f6"}}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:w(g.tokens_used_this_month)}),(0,a.jsx)("span",{children:w(g.monthly_limit)})]})]}),s&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:v,className:"flex-shrink-0",children:(0,a.jsx)(o.A,{size:14})})]}):(0,a.jsxs)(r.Zp,{className:(0,m.cn)("w-full",t),children:[(0,a.jsx)(r.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-lg font-semibold",children:"Token Usage"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[N(),s&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:v,children:(0,a.jsx)(o.A,{size:16})})]})]})}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"This Month"}),(0,a.jsxs)("span",{className:"font-medium",children:[y.toFixed(1),"%"]})]}),(0,a.jsx)(l.k,{value:y,className:"h-3",style:{backgroundColor:"#f3f4f6"}}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:[w(g.tokens_used_this_month)," used"]}),(0,a.jsxs)("span",{children:[w(g.tokens_remaining)," remaining"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:w(g.monthly_limit)}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Monthly Limit"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:w(g.tokens_remaining)}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 pt-2 border-t",children:[(0,a.jsx)(d.A,{size:14}),(0,a.jsxs)("span",{children:["Resets on ",new Date(g.reset_date).toLocaleDateString()]})]}),b&&(0,a.jsx)("div",{className:(0,m.cn)("p-3 rounded-lg text-sm",j?"bg-red-50 text-red-700 border border-red-200":"bg-yellow-50 text-yellow-700 border border-yellow-200"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.A,{size:16}),(0,a.jsx)("span",{children:j?"You've reached your token limit. Upgrade your plan to continue.":"You're approaching your token limit. Consider upgrading your plan."})]})}),g.tokens_used_this_month>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 pt-2 border-t",children:[(0,a.jsx)(u.A,{size:14}),(0,a.jsx)("span",{children:g.tokens_used_this_month>.5*g.monthly_limit?"High usage this month":"Normal usage this month"})]})]})]})}},508:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1647:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(5155);s(2115);var r=s(3101),l=s(4269);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:s}),t),...r})}},2056:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2754:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,d:()=>r});let a=e=>e&&(e.display_name||e.name||e.email)||"User",r=e=>{let t=a(e);return t.includes("@")?"User":t.split(" ")[0]}},2890:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(8090).UU)("https://raoonyyrzzftdenvknfi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJhb29ueXlyenpmdGRlbnZrbmZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDM1NzcsImV4cCI6MjA2NTgxOTU3N30.3t9rTN6x533lihs8ebUVHu9kuayFl_m2b6liifW1B88")},2992:(e,t,s)=>{"use strict";s.d(t,{default:()=>g});var a=s(5155),r=s(2115),l=s(5937),i=s(8192),n=s(4033);let c=(0,s(1847).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var o=s(5229),d=s(508),u=s(8085),h=s(3998),m=s(5142),x=s(4739);function g(e){let{position:t="bottom-right",chatbotId:s,showChatbotSelector:g=!1}=e,[p,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[k,A]=(0,r.useState)(!1),[_,z]=(0,r.useState)(),[C,E]=(0,r.useState)([]),[M,S]=(0,r.useState)(null),[I,D]=(0,r.useState)(!0),[P,U]=(0,r.useState)(!1),[F,H]=(0,r.useState)(null),[R,T]=(0,r.useState)(!1),Z=(0,r.useRef)(null),{getErrorMessage:B}=function(){let e=(0,r.useCallback)(e=>e instanceof Error&&(e.message.includes("Unable to connect")||e.message.includes("server unavailable")||e.message.includes("ECONNREFUSED")||e.message.includes("network")||e.message.includes("timeout")),[]),t=(0,r.useCallback)(t=>t instanceof Error?e(t)?"Unable to connect to server. Please check if the backend service is running and try again.":t.message.includes("Not authenticated")||t.message.includes("Authentication expired")?"Your session has expired. Please log in again.":t.message.includes("Access denied")||t.message.includes("Unauthorized")?"You don't have permission to perform this action.":t.message.includes("timeout")?"The request timed out. Please try again.":t.message||"An unexpected error occurred":"An unexpected error occurred",[e]);return{isConnectionError:e,getErrorMessage:t}}();(0,r.useEffect)(()=>{T(!0)},[]),(0,r.useEffect)(()=>{(async()=>{try{D(!0);let e=await x.kQ.getCurrentUserContext();if(H(e.isAuthenticated),!e.isAuthenticated)return void j([{id:"greeting",type:"bot",content:"Hello! To use the chat feature, please log in to your account first.",timestamp:new Date}]);let t=await x.Ex.getChatbots();if(t&&t.length>0){E(t);let e=null;if(s&&(e=t.find(e=>e.id===s)||null),e||(e=t.find(e=>"active"===e.chain_status)||t[0]),e){let t=await x.Ex.getChatbot(e.id);S(t),j([{id:"greeting",type:"bot",content:t.greeting_message||"Hello! I'm ".concat(t.name,". How can I help you today?"),timestamp:new Date}])}}else j([{id:"greeting",type:"bot",content:"Hello! I'm your AI assistant. Please note that no chatbots are currently configured for your organization.",timestamp:new Date}])}catch(e){if(console.error("Error loading chatbots:",e),e instanceof Error&&e.message.includes("Not authenticated"))H(!1),j([{id:"greeting",type:"bot",content:"Hello! To use the chat feature, please log in to your account first.",timestamp:new Date}]);else{let t=B(e);j([{id:"greeting",type:"bot",content:"Hello! ".concat(t),timestamp:new Date}])}}finally{D(!1)}})()},[s,B]);let $=async e=>{try{let t=await x.Ex.getChatbot(e);S(t),z(void 0),j([{id:"greeting",type:"bot",content:t.greeting_message||"Hello! I'm ".concat(t.name,". How can I help you today?"),timestamp:new Date}]),U(!1)}catch(e){console.error("Error switching chatbot:",e)}};(0,r.useEffect)(()=>{var e;null==(e=Z.current)||e.scrollIntoView({behavior:"smooth"})},[b]);let L=async()=>{if(!N.trim()||k||!F)return;let e={id:Date.now().toString(),type:"user",content:N,timestamp:new Date};j(t=>[...t,e]),w(""),A(!0);try{let e=await x.kQ.sendMessage(N,(null==M?void 0:M.id)||s,_);e.conversation_id&&!_&&z(e.conversation_id);let t={id:(Date.now()+1).toString(),type:"bot",content:e.response,timestamp:new Date,sources:e.sources||[]};j(e=>[...e,t])}catch(s){console.error("Error getting bot response:",s),s instanceof Error&&(s.message.includes("Not authenticated")||s.message.includes("Authentication expired"))&&H(!1);let e=B(s),t={id:(Date.now()+1).toString(),type:"bot",content:e,timestamp:new Date};j(e=>[...e,t])}finally{A(!1)}},q={"bottom-right":"bottom-10 right-4","bottom-left":"bottom-10 left-4"};return R?p?(0,a.jsx)("div",{className:"fixed ".concat(q[t]," flex flex-col p-0 z-50"),children:(0,a.jsxs)("div",{className:"w-[25vw] flex flex-col shadow-2xl rounded-lg p-3 transition-all bg-white m-0 duration-300 ".concat(v?"h-14":"h-[70vh]"),children:[(0,a.jsx)("div",{className:"flex-row items-center justify-between space-y-0 p-3 text-white rounded-lg shadow-md",style:{background:(null==M?void 0:M.color_hex)?"linear-gradient(135deg, ".concat(M.color_hex,", ").concat(M.color_hex,"dd)"):"linear-gradient(135deg, #3B82F6, #2563EB)"},children:(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center gap-5 flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex flex-row items-center justify-center bg-white/20",children:(null==M?void 0:M.avatar_url)?(0,a.jsx)("img",{src:M.avatar_url,alt:M.name,className:"w-5 h-5 rounded-full"}):(0,a.jsx)(i.A,{className:"h-4 w-4 text-white"})}),g&&C.length>1?(0,a.jsxs)("div",{className:"relative gap-3",children:[(0,a.jsxs)(h.$,{variant:"ghost",size:"sm",onClick:()=>U(!P),className:"h-auto p-1 text-white hover:bg-white/20 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:(null==M?void 0:M.name)||"Select Chatbot"}),(0,a.jsx)(n.A,{className:"h-3 w-3"})]}),P&&(0,a.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-md shadow-lg border z-10 min-w-48",children:C.map(e=>(0,a.jsxs)("button",{onClick:()=>$(e.id),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color_hex||"#3B82F6"}}),(0,a.jsx)("span",{children:e.name}),"active"===e.chain_status&&(0,a.jsx)("span",{className:"text-xs text-green-600 ml-auto",children:"Active"})]},e.id))})]}):(0,a.jsx)("span",{className:"font-medium text-sm",children:(null==M?void 0:M.name)||"Assistant"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>y(!v),className:"pointer h-7 w-7 rounded-lg p-0 text-white bg-white/20",children:(0,a.jsx)(c,{className:"h-3 w-3"})}),(0,a.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>f(!1),className:"pointer h-7 w-7 rounded-lg p-0 bg-white",children:(0,a.jsx)(o.A,{className:"h-3 w-3",style:{color:null==M?void 0:M.color_hex}})})," "]})]})}),!v&&(0,a.jsxs)("div",{className:"relative flex-1 flex flex-col overflow-scroll",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[!1===F&&(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)(i.A,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),(0,a.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Login Required"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Please log in to your account to start chatting with our AI assistant."}),(0,a.jsx)(h.$,{size:"sm",onClick:()=>window.location.href="/login",className:"bg-blue-600 hover:bg-blue-700",children:"Go to Login"})]})}),b.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-[85%] p-2 rounded-lg text-sm ".concat("user"===e.type?"text-white ml-2":"bg-gray-100 mr-2"),style:{backgroundColor:"user"===e.type?(null==M?void 0:M.color_hex)||"#3B82F6":void 0},children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:["bot"===e.type&&(0,a.jsx)(i.A,{className:"h-3 w-3 text-blue-500 mt-0.5 flex-shrink-0"}),"user"===e.type&&(0,a.jsx)(d.A,{className:"h-3 w-3 text-white mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),e.sources&&e.sources.length>0&&(0,a.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:["Sources: ",e.sources.length," document(s)"]})]})]})})},e.id)),k&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)("div",{className:"bg-gray-100 mr-2 p-2 rounded-lg max-w-[85%]",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"h-3 w-3 text-blue-500"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-100"}),(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-200"})]})]})})}),(0,a.jsx)("div",{ref:Z})]}),(0,a.jsxs)("div",{className:"p-2 border-t bg-gray-50 ",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.p,{value:N,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),L())},placeholder:F?"Ask ".concat((null==M?void 0:M.name)||"Assistant","..."):"Please log in to chat...",className:"flex-1 text-sm focus:ring-1 focus:ring-opacity-50 focus:border-transparent transition-all duration-200",style:{"--tw-ring-color":(null==M?void 0:M.color_hex)||"#3B82F6"},disabled:k||!M||!F}),(0,a.jsx)(h.$,{onClick:L,disabled:!N.trim()||k||!M||!F,size:"sm",className:"px-3",style:{backgroundColor:(null==M?void 0:M.color_hex)||"#3B82F6"},children:(0,a.jsx)(u.A,{className:"h-3 w-3"})})]}),(0,a.jsx)("p",{className:"mt-3 text-xs text-right",children:"Powered by Zaakiy"})]})]})]})}):(0,a.jsx)("div",{className:"fixed ".concat(q[t]," z-50"),children:(0,a.jsx)(h.$,{onClick:()=>f(!0),className:"pointer rounded-full w-14 h-14 shadow-lg hover:shadow-xl transition-all duration-200",style:{backgroundColor:(null==M?void 0:M.color_hex)||"#3B82F6"},disabled:I,children:I?(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(l.A,{className:"h-6 w-6 text-white"})})}):null}},3007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]])},3635:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155),r=s(2115);function l(e){let{children:t,fallback:s=null}=e,[l,i]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{i(!0)},[]),l)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{children:s})}},4033:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4612:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>c});var a=s(5155),r=s(2115),l=r.createContext(void 0),i={setTheme:e=>{},themes:[]},n=s(8720);let c=e=>{let{...t}=e,{theme:s="system"}=(()=>{var e;return null!=(e=r.useContext(l))?e:i})();return(0,a.jsx)(n.l$,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})}},5142:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(5155);s(2115);var r=s(4269);function l(e){let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5254:(e,t,s)=>{"use strict";s.d(t,{default:()=>k});var a=s(5155),r=s(2115),l=s(2619),i=s.n(l),n=s(63),c=s(1847);let o=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var d=s(1473),u=s(3007);let h=(0,c.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var m=s(5870);let x=(0,c.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),g=(0,c.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var p=s(508);let f=(0,c.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var v=s(630),y=s(2890),b=s(3998),j=s(8720),N=s(2754),w=s(293);let k=()=>{var e,t;let[s,l]=(0,r.useState)(!0),[c,k]=(0,r.useState)(null),A=(0,n.usePathname)(),_=(0,n.useParams)();(0,r.useEffect)(()=>{(async()=>{let{data:{session:e}}=await y.N.auth.getSession();(null==e?void 0:e.user)&&k(e.user)})()},[]);let z=(null==_?void 0:_.userId)||(null==c?void 0:c.id),C=e=>z?"/dashboard/".concat(z).concat(e):"/dashboard".concat(e),E=[{title:"Dashboard",icon:(0,a.jsx)(o,{size:20}),path:C("")},{title:"Train",icon:(0,a.jsx)(d.A,{size:20}),path:C("/train")},{title:"AI",icon:(0,a.jsx)(u.A,{size:20}),path:C("/ai")},{title:"Customize",icon:(0,a.jsx)(v.bAt,{size:20}),path:C("/customize")},{title:"Subscription",icon:(0,a.jsx)(h,{size:20}),path:C("/subscription")},{title:"Settings",icon:(0,a.jsx)(m.A,{size:20}),path:C("/settings")}],M=async()=>{let{error:e}=await y.N.auth.signOut();e?j.oR.error("Error logging out"):(j.oR.success("Logged out successfully"),window.location.href="/auth/login")};return(0,a.jsxs)("div",{className:"".concat(s?"w-[4.5vw]":"sm:w-60 w-60 z-[999]"," min-h-screen bg-[#5D7DDE] text-white transition-all-ease-in-out duration-400 fixed left-0 top-0 flex flex-col"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white",children:[!s&&(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:"Zentria Pro"}),(0,a.jsx)("button",{onClick:()=>l(!s),className:"p-2 rounded-lg pointer",children:s?(0,a.jsx)(x,{size:20,color:"#fff"}):(0,a.jsx)(g,{size:20,color:"#fff"})})]}),!s&&c&&(0,a.jsx)("div",{className:"p-4 border-b border-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(p.A,{size:16,className:"text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:(0,N.N)({id:c.id,email:c.email||"",name:(null==(e=c.user_metadata)?void 0:e.name)||"",display_name:(null==(t=c.user_metadata)?void 0:t.display_name)||""})}),(0,a.jsxs)("p",{className:"text-xs text-white",children:["User ID: ",c.id.slice(0,8),"..."]})]})]})}),(0,a.jsx)("nav",{className:"p-4 flex-1",children:(0,a.jsx)("ul",{className:"space-y-2",children:E.map((e,t)=>{let r=e.path.replace(/\/$/,""),l=A.replace(/\/$/,""),n=!1,c=l.split("/").filter(Boolean),o=r.split("/").filter(Boolean);return n="Dashboard"===e.title?2===c.length&&"dashboard"===c[0]&&void 0!==c[1]&&void 0===c[2]:c[c.length-1]===o[o.length-1],(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:e.path,className:"flex items-center gap-4 p-2 rounded-lg transition-colors\n                    ".concat(n?"glass shadow-sm text-white font-bold":"text-white hover:text-white","\n                  "),children:[e.icon,!s&&(0,a.jsx)("span",{className:"text-base font-semibold",children:e.title})]})},t)})})}),!s&&(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsx)(w.T,{compact:!0,showRefreshButton:!1})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsxs)(b.$,{onClick:M,variant:"ghost",className:"w-full justify-start text-gray-600 hover:text-white hover:bg-red-500 ".concat(s?"px-2":""),children:[(0,a.jsx)(f,{size:20}),!s&&(0,a.jsx)("span",{className:"ml-4",children:"Logout"})]})})]})}},5870:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},7512:(e,t,s)=>{Promise.resolve().then(s.bind(s,2992)),Promise.resolve().then(s.bind(s,3635)),Promise.resolve().then(s.bind(s,5254)),Promise.resolve().then(s.bind(s,4612)),Promise.resolve().then(s.bind(s,1539))},8085:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},9559:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},e=>{e.O(0,[9204,4554,284,8720,2619,5708,7741,5473,8441,1255,7358],()=>e(e.s=7512)),_N_E=e.O()}]);